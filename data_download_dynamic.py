import os

# occamy
# load hash into a array
file = []
command_line = []
i = 0
with open('emotet_new_2.txt', 'r') as f:
    file = f.read().splitlines()

# combine all parts of command line
for hash_num in file:
    hash_num = hash_num.strip()
    command_line.append(("--request GET --url https://www.virustotal.com/api/v3/files/" + hash_num + '/behaviours' + \
                        " --header 'x-apikey: 54369f5ba09af01a4c8b2dccc528142bb07de6d132b0f97d8e3f9cb645b405e4' > " + \
                        "emotet_behaviour" + str(i) + ".json"))
    i += 1

# execute all command lines by curl
for item in command_line:
    tmpres = os.popen('curl %s' % item).readlines()
    #print(tmpres)

print("ok..")

# emotet
# load hash into a array
'''
file = []
command_line = []
i = 0
with open('emotet.txt', 'r') as f:
    file = f.read().splitlines()

# combine all parts of command line
for hash_num in file:
    hash_num = hash_num.strip()
    command_line.append(("--request GET --url https://www.virustotal.com/api/v3/files/" + hash_num + '/behaviours' + \
                        " --header 'x-apikey: 54369f5ba09af01a4c8b2dccc528142bb07de6d132b0f97d8e3f9cb645b405e4' > " + \
                        "emotet_behaviour" + str(i) + ".json"))
    i += 1

# execute all command lines by curl
for item in command_line:
    tmpres = os.popen('curl %s' % item).readlines()
    #print(tmpres)

print("ok..")

# fsysna
# load hash into a array
file = []
command_line = []
i = 0
with open('Fsysna.txt', 'r') as f:
    file = f.read().splitlines()

# combine all parts of command line
for hash_num in file:
    hash_num = hash_num.strip()
    command_line.append(("--request GET --url https://www.virustotal.com/api/v3/files/" + hash_num + '/behaviours' + \
                        " --header 'x-apikey: 54369f5ba09af01a4c8b2dccc528142bb07de6d132b0f97d8e3f9cb645b405e4' > " + \
                        "Fsysna_behaviour" + str(i) + ".json"))
    i += 1

# execute all command lines by curl
for item in command_line:
    tmpres = os.popen('curl %s' % item).readlines()
    #print(tmpres)

print("ok..")

# swrort
# load hash into a array
file = []
command_line = []
i = 0
with open('swrort.txt', 'r') as f:
    file = f.read().splitlines()

# combine all parts of command line
for hash_num in file:
    hash_num = hash_num.strip()
    command_line.append(("--request GET --url https://www.virustotal.com/api/v3/files/" + hash_num + '/behaviours' + \
                        " --header 'x-apikey: 54369f5ba09af01a4c8b2dccc528142bb07de6d132b0f97d8e3f9cb645b405e4' > " + \
                        "swrort_behaviour" + str(i) + ".json"))
    i += 1

# execute all command lines by curl
for item in command_line:
    tmpres = os.popen('curl %s' % item).readlines()
    #print(tmpres)

print("ok..")

# nanonot
# load hash into a array
file = []
command_line = []
i = 0
with open('Nanobot.txt', 'r') as f:
    file = f.read().splitlines()

# combine all parts of command line
for hash_num in file:
    hash_num = hash_num.strip()
    command_line.append(("--request GET --url https://www.virustotal.com/api/v3/files/" + hash_num + '/behaviours' + \
                        " --header 'x-apikey: 54369f5ba09af01a4c8b2dccc528142bb07de6d132b0f97d8e3f9cb645b405e4' > " + \
                        "Nanobot_behaviour" + str(i) + ".json"))
    i += 1

# execute all command lines by curl
for item in command_line:
    tmpres = os.popen('curl %s' % item).readlines()
    #print(tmpres)

print("ok..")
'''